{"version":3,"file":"commonHelpers.js","sources":["../src/js/reviews.js"],"sourcesContent":["const fetchReviews = async () => {\n    try {\n      const response = await fetch('https://portfolio-js.b.goit.study/api/reviews', {\n        headers: {\n          'Accept': 'application/json'\n        }\n      });\n      if (!response.ok) {\n        if (response.status === 404) {\n          throw new Error('Not found');\n        } else if (response.status === 500) {\n          throw new Error('Server error');\n        } else {\n          throw new Error('An unknown error occurred');\n        }\n      }\n      const reviews = await response.json();\n      return reviews;\n    } catch (error) {\n      throw new Error(error.message);\n    }\n  };\n\n  const createReviewItem = (review) => {\n    return `\n      <li class=\"swiper-slide reviews-items\">\n        <img class=\"reviews-img\" src=\"${review.avatar_url}\" alt=\"${review.author}\" />\n        <h3 class=\"review-author\">${review.author}</h3>\n        <p class=\"review-text\">${review.review}</p>\n      </li>\n    `;\n  };\n\nconst initializeSlider = () => {\n  const swiper = new Swiper('.swiper', {\n    //slidesPerView: 4,\n    //spaceBetween: 30,\n    navigation: {\n      nextEl: '.swiper-button-next',\n      prevEl: '.swiper-button-prev',\n    },\n    keyboard: {\n      enabled: true,\n      onlyInViewport: false,\n    },\n    breakpoints: {\n      320: {\n        slidesPerView: 1,\n        spaceBetween: 16,\n      },\n      768: {\n        slidesPerView: 2,\n        spaceBetween: 16,\n      },\n      1280: {\n        slidesPerView: 4,\n        spaceBetween: 16,\n      },\n    },\n    on: {\n      reachEnd: () => {\n        document.querySelector('.swiper-button-next').classList.add('disabled');\n      },\n      reachBeginning: () => {\n        document.querySelector('.swiper-button-prev').classList.add('disabled');\n      },\n      fromEdge: () => {\n        document.querySelector('.swiper-button-prev').classList.remove('disabled');\n        document.querySelector('.swiper-button-next').classList.remove('disabled');\n      },\n    },\n  });\n};\n\nconst displayReviews = async () => {\n  try {\n    const reviews = await fetchReviews(); \n    const reviewsList = document.querySelector('.reviews-list');\n    reviewsList.innerHTML = reviews.map(createReviewItem).join(''); \n    initializeSlider();\n  } catch (error) {\n    document.querySelector('.reviews-container').innerHTML = `<p class=\"error-message\">${error.message}</p>`;\n  }\n};\n\ndocument.addEventListener('DOMContentLoaded', displayReviews);"],"names":["fetchReviews","response","error","createReviewItem","review","initializeSlider","displayReviews","reviews","reviewsList"],"mappings":"ssBAAA,MAAMA,EAAe,SAAY,CAC7B,GAAI,CACF,MAAMC,EAAW,MAAM,MAAM,gDAAiD,CAC5E,QAAS,CACP,OAAU,kBACX,CACT,CAAO,EACD,GAAI,CAACA,EAAS,GACZ,MAAIA,EAAS,SAAW,IAChB,IAAI,MAAM,WAAW,EAClBA,EAAS,SAAW,IACvB,IAAI,MAAM,cAAc,EAExB,IAAI,MAAM,2BAA2B,EAI/C,OADgB,MAAMA,EAAS,MAEhC,OAAQC,EAAO,CACd,MAAM,IAAI,MAAMA,EAAM,OAAO,CAC9B,CACL,EAEQC,EAAoBC,GACjB;AAAA;AAAA,wCAE6BA,EAAO,UAAU,UAAUA,EAAO,MAAM;AAAA,oCAC5CA,EAAO,MAAM;AAAA,iCAChBA,EAAO,MAAM;AAAA;AAAA,MAKxCC,EAAmB,IAAM,CACd,IAAI,OAAO,UAAW,CAGnC,WAAY,CACV,OAAQ,sBACR,OAAQ,qBACT,EACD,SAAU,CACR,QAAS,GACT,eAAgB,EACjB,EACD,YAAa,CACX,IAAK,CACH,cAAe,EACf,aAAc,EACf,EACD,IAAK,CACH,cAAe,EACf,aAAc,EACf,EACD,KAAM,CACJ,cAAe,EACf,aAAc,EACf,CACF,EACD,GAAI,CACF,SAAU,IAAM,CACd,SAAS,cAAc,qBAAqB,EAAE,UAAU,IAAI,UAAU,CACvE,EACD,eAAgB,IAAM,CACpB,SAAS,cAAc,qBAAqB,EAAE,UAAU,IAAI,UAAU,CACvE,EACD,SAAU,IAAM,CACd,SAAS,cAAc,qBAAqB,EAAE,UAAU,OAAO,UAAU,EACzE,SAAS,cAAc,qBAAqB,EAAE,UAAU,OAAO,UAAU,CAC1E,CACF,CACL,CAAG,CACH,EAEMC,EAAiB,SAAY,CACjC,GAAI,CACF,MAAMC,EAAU,MAAMP,IAChBQ,EAAc,SAAS,cAAc,eAAe,EAC1DA,EAAY,UAAYD,EAAQ,IAAIJ,CAAgB,EAAE,KAAK,EAAE,EAC7DE,GACD,OAAQH,EAAO,CACd,SAAS,cAAc,oBAAoB,EAAE,UAAY,4BAA4BA,EAAM,OAAO,MACnG,CACH,EAEA,SAAS,iBAAiB,mBAAoBI,CAAc"}